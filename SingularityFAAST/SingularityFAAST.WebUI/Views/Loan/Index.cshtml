@using SingularityFAAST.Core.Entities
@using SingularityFAAST.Services.Services
@*@model IEnumerable<SingularityFAAST.Core.Entities.LoanMaster>*@
@model IEnumerable<SingularityFAAST.Core.DataTransferObjects.LoansClientsInventoryDTO>
@*@model IEnumerable<SingularityFAAST.Core.Entities.Client>*@
@*@model SingularityFAAST.WebUI.Models.GetLoanInfo*@
@*@model IEnumerable<SingularityFAAST.Core.Entities.LoanClientItem>*@

@{
    ViewBag.Title = "Loan";
}

@*<head>
        <meta name="viewport" content="width=device-width" />
        <title>ManageLoans</title>
    </head>
*@

@*<div class="row">*@   @*add class (makes body content + column into a single row) here to create two-column page for upcoming due loans *@
@*This will be column for upcoming due loans, and past due loans*@

<h2>Manage Loans</h2>
@*<div class="col-md-4 col-md-offset-4"></div>*@  @*This was to center the title*@
<br />
@*<div class="row">*@


@using (Html.BeginForm("Index", "Loan", FormMethod.Post, new { @class = "form-inline" }))
{
    <form class="form-inline">
        <input type="text" class="form-control" name="searchby" placeholder="Search Loans by Client Last Name" style="width: 30%;" />
        <input type="submit" class="btn btn-default" value="Search" />
    </form>
}

@*</div>*@
<br /><br />
<div class="row">
    <div class="col-md-4">
        Choose any loan to edit, renew or cancel.
    </div>
    <div class="btn-group">
        @*<div class="col-md-2">*@
        @Html.ActionLink("Create Loan", "AddLoan", null, new { @class = "btn btn-default" }) @*NewLoan*@
        
        @*</div>*@
        @*<div class="col-md-2">*@
        @Html.ActionLink("Renew Loan", "RenewLoan", null, new {@class = "btn btn-default"}) @*RenewLoan*@
        @*</div>*@
        @*<div class="col-md-2">*@
        @Html.ActionLink("Cancel Loan", "CancelLn", null, new {@class = "btn btn-default"}) @*CancelLoan*@
        @*</div>*@
        @*<div class="col-md-2">*@
        @Html.ActionLink("Edit Loan", "EditLn", null, new {@class = "btn btn-default"}) @*EditLoan*@
        @*</div>*@
        @*<div class="col-md-2">*@
        @Html.ActionLink("Check-In Loan", "CheckIn", null, new {@class = "btn btn-default"}) @*CheckinLoan*@ @*To record client outcome, damages etc.*@
        @*</div>*@
    </div>
</div>
<br />
<div class="container-fluid">
    <div class="row">
        <div class="col-md-9">
            <table class="table table-striped table-hover table-condensed">
                <thead>
                    <tr>
                        <th>
                            Select
                        </th>
                        <th>
                            Loan Number
                        </th>
                        <th>
                            Date Created
                        </th>
                        <th>
                            Client ID
                        </th>
                        <th>
                            First Name
                        </th>
                        <th>
                            Last Name
                            @*@Html.ActionLink("Loan End Date", "IndexLoan", new { sort = ViewBag.DateSortParm })*@
                        </th>
                        <th>
                            @*Notes*@
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @*@Html.ActionLink("Select", "", new {id = item.LoanId}) *@ @*Could be checkbox. Not a link, just selects, for one of three possible functions*@
                                @Html.RadioButton("item.LoanId", false)
                            </td>
                            <td>
                                @item.LoanNumber
                            </td>
                            <td>
                                @item.DateCreated
                            </td>
                            <td>
                                @item.ClientId
                            </td>
                            <td>
                                @item.FirstName
                            </td>
                            <td>
                                @item.LastName
                            </td>
                            <td>
                                @*@item.Notes*@
                            </td>
                            @*<td style="text-align: center;">
                                @item.Eligibility
                            </td>*@
                        </tr>
                    }
                </tbody>
            </table>
            <a href="Index.cshtml">< Previous 10 </a> @*use bootstrap pagination here*@
            <a href="Index.cshtml">| Next 10 ></a>


            @*<div class="col-md-2 col-sm-3 hidden-xs">  *@
            <!-- Placeholder - keep empty -->
            @*</div>*@


            @*<div class="col-md-2">  For Upcoming Devices Due column
                    <div class="navbar-collapse navbar-right collapse">

                        column here!!
                        <br/>
                        column here!!
                    </div>
                </div>*@
        </div>
    </div>
</div>